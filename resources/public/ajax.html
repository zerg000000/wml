<!DOCTYPE html>
<html>
    <head>
      <title>ajax client</title>
		<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
		<script type="text/javascript">
		$(function() {
                        var methods = ['GET','POST','PUT','DELETE'];
                        var accepts = ['text/html','text/plain','application/json','application/yaml'];
                        var contenttypes = ['xml','json','script','html'];

			var vals = {
                                uri: $('#uri'),
				accept: $('#accept'),
                                ctype: $('#ctype'),
				method: $('#method'),
                                c : $('#content'),
                                response : $('#response')
			};
			$('#run').click(function(e) {
				$.ajax(vals.uri.val(), {
                                        type : vals.method.val(),
                                        data : vals.c.val(),
					dataType : "json",
                                        contentType : vals.ctype.val(),
                                        success : function(d){
                                          //only working on modren browser
                                          vals.response.val(JSON.stringify(d));
                                          console.log(d);
                                          }
                                        });
			});
		});
		</script>
	</head>
<body>
<div>
<select id="method" name="method">
    <option value="GET">GET</option>
    <option value="POST">POST</option>
    <option value="PUT">PUT</option>
    <option value="DELETE">DELETE</option>
</select>
<select id="ctype" name="ctype">
    <option value="text/html">text/html</option>
    <option value="text/plain">text/plain</option>
    <option value="application/json">application/json</option>
    <option value="application/yaml">application/yaml</option>
</select>
<select id="accept" name="accept">
    <option value="xml">xml</option>
    <option value="json">json</option>
    <option value="script">script</option>
    <option value="html">html</option>
</select>
    <label for="uri">URL</label>
    <input type="text" id="uri" name="uri" />
<button id="run">Run</button>
</div>
<div>
	<textarea id="content"></textarea>
</div>
<div>
  <textarea id="response"></textarea>
</div>
</body>
</html>
